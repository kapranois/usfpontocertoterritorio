<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ nome_equipe }} - Condom√≠nios</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/condominios.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Configura√ß√µes do backend -->
    <script>
        window.APP_CONFIG = {
            usuario_logado: {% if usuario_logado %}true{% else %}false{% endif %},
            nome_usuario: {{ nome_usuario|default('Visitante')|tojson }},
            nivel_usuario: {{ nivel_usuario|default('')|tojson }},
            nome_equipe: {{ nome_equipe|tojson }},
            condominios_count: {{ condominios|length }}
        };

        // Dados para a tabela (opcional)
        window.CONDOMINIOS_DATA = {{ condominios|tojson|safe }};
    </script>
</head>
<body>
    <div class="container condominios-page">
        <!-- Cabe√ßalho -->
        <div class="page-header">
            <div class="header-actions">
                <a href="/dashboard" class="btn-add">
                    <i class="fas fa-arrow-left"></i> Voltar
                </a>
                <a href="/trocar-equipe" class="btn-sair">
                    <i class="fas fa-exchange-alt"></i> Trocar Equipe
                </a>
            </div>
        </div>

        <!-- Se√ß√£o de Condom√≠nios -->
        <section class="condominios">
            <div class="section-header">
                <h2>
                    <i class="fas fa-building"></i>
                    Condom√≠nios do Territ√≥rio
                    <span class="condominios-count">
                        {{ condominios|length }} unidade{% if condominios|length != 1 %}s{% endif %}
                    </span>
                </h2>

                <div class="section-actions">
                    {% if usuario_logado and nivel_usuario != 'convidado' %}
                    <button class="btn-add" onclick="mostrarModal()">
                        <i class="fas fa-plus"></i>
                        <span>Novo Condom√≠nio</span>
                    </button>
                    {% else %}
                    <button class="btn-add btn-convidado-disabled"
                            onclick="mostrarModalConvidado()"
                            title="Modo visitante: apenas visualiza√ß√£o">
                        <i class="fas fa-plus"></i>
                        <span>Novo Condom√≠nio</span>
                    </button>
                    {% endif %}

                    <!-- Filtros r√°pidos -->
                    <div class="quick-filters">
                        <button class="filter-btn active" onclick="CondominiosPage.filtrar('todos')" title="Mostrar todos">
                            <i class="fas fa-layer-group"></i>
                        </button>
                        <button class="filter-btn" onclick="CondominiosPage.filtrar('alta')" title="Alta prioridade" style="color: #e74c3c;">
                            <i class="fas fa-exclamation-circle"></i>
                        </button>
                        <button class="filter-btn" onclick="CondominiosPage.filtrar('cobertura')" title="Ordenar por cobertura">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
            </div>

            {% if condominios %}
            <!-- Grid de Cards -->
            <div class="condominios-grid">
                {% for cond in condominios %}
                {% set cobertura_percent = cond.cobertura|default(0)|int %}
                <div class="condominio-card priority-{{ cond.prioridade }} status-{{ cond.status_cobertura }}"
                     data-id="{{ cond.id }}"
                     data-cobertura="{{ cobertura_percent }}"
                     data-prioridade="{{ cond.prioridade }}"
                     data-status="{{ cond.status_cobertura }}"
                     data-acs="{{ 'com_acs' if cond.acs_responsavel else 'sem_acs' }}">

                    <!-- Cabe√ßalho -->
                    <div class="condominio-header">
                        <h3>{{ cond.nome }}</h3>
                        <div class="condominio-badges">
                            <span class="badge priority-{{ cond.prioridade }}">
                                <i class="fas fa-flag"></i>
                                {{ cond.prioridade|upper }}
                            </span>
                            <span class="badge status-{{ cond.status_cobertura }}">
                                {% if cond.status_cobertura == 'completo' %}
                                <i class="fas fa-check-circle"></i> COBERTO
                                {% elif cond.status_cobertura == 'parcial' %}
                                <i class="fas fa-exclamation-triangle"></i> PARCIAL
                                {% else %}
                                <i class="fas fa-times-circle"></i> DESCOBERTO
                                {% endif %}
                            </span>
                        </div>
                    </div>

                    <!-- Informa√ß√µes -->
                    <div class="condominio-info">
                        <div class="info-grid">
                            <div class="info-item">
                                <i class="fas fa-layer-group"></i>
                                <span>Blocos:</span>
                                <span class="info-value">{{ cond.torres }}</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-door-closed"></i>
                                <span>Apartamentos:</span>
                                <span class="info-value">{{ cond.apartamentos }}</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-users"></i>
                                <span>Moradores:</span>
                                <span class="info-value">{{ cond.moradores }}</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-user-md"></i>
                                <span>ACS:</span>
                                <span class="info-value">
                                    {% if cond.acs_responsavel %}
                                    {{ cond.acs_responsavel|truncate(15) }}
                                    {% else %}
                                    <span class="sem-acs">Sem ACS</span>
                                    {% endif %}
                                </span>
                            </div>
                        </div>

                        <!-- Dados de Sa√∫de -->
                        <div class="saude-mini-chart">
                            <div class="saude-chart-title">
                                <i class="fas fa-heartbeat"></i>
                                Dados de Sa√∫de
                            </div>
                            <div class="saude-chart-bars">
                                <div class="saude-bar" style="height: {{ (cond.hipertensos / cond.moradores * 100 if cond.moradores > 0 else 0) | round(1) }}%"></div>
                                <div class="saude-bar" style="height: {{ (cond.diabeticos / cond.moradores * 100 if cond.moradores > 0 else 0) | round(1) }}%"></div>
                                <div class="saude-bar" style="height: {{ (cond.gestantes / cond.moradores * 100 if cond.moradores > 0 else 0) | round(1) }}%"></div>
                            </div>
                            <div class="saude-labels">
                                <span>{{ cond.hipertensos }} Hipertensos</span>
                                <span>{{ cond.diabeticos }} Diab√©ticos</span>
                                <span>{{ cond.gestantes }} Gestantes</span>
                            </div>
                        </div>

                        <!-- Cobertura -->
                        <div class="cobertura-condominio">
                            <div class="cobertura-header">
                                <div class="cobertura-label">
                                    <i class="fas fa-chart-pie"></i>
                                    Cobertura de Blocos
                                </div>
                                <div class="cobertura-percent">{{ cond.cobertura }}%</div>
                            </div>
                            <div class="cobertura-barra-container">
                                <div class="cobertura-barra">
                                    <div class="coberto" style="width: {{ cond.cobertura }}%"></div>
                                    <div class="descoberto" style="width: {{ 100 - cond.cobertura }}%"></div>
                                </div>
                            </div>
                            <div class="cobertura-numbers">
                                <span>{{ cond.blocos_cobertos }} blocos cobertos</span>
                                <span>{{ cond.blocos_descobertos }} blocos descobertos</span>
                            </div>
                        </div>
                    </div>

                    <!-- Rodap√© -->
                    <div class="condominio-footer">
                        <div class="cobertura-info">
                            <span class="status-indicator">
                                {% if cond.status_cobertura == 'completo' %}
                                <i class="fas fa-check-circle"></i> COBERTO
                                {% elif cond.status_cobertura == 'parcial' %}
                                <i class="fas fa-exclamation-triangle"></i> PARCIAL
                                {% else %}
                                <i class="fas fa-times-circle"></i> DESCOBERTO
                                {% endif %}
                            </span>
                        </div>
                        <div class="ultima-visita">
                            <i class="far fa-calendar-alt"></i>
                            <span>{{ cond.ultima_visita }}</span>
                        </div>
                    </div>

                    <!-- Bot√µes de a√ß√£o -->
                    <div class="card-actions">
                        {% if usuario_logado and nivel_usuario != 'convidado' %}
                        <button class="action-btn btn-edit" title="Editar" data-id="{{ cond.id }}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn btn-view" title="Visualizar" data-id="{{ cond.id }}">
                            <i class="fas fa-eye"></i>
                        </button>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <!-- Estado Vazio -->
            <div class="empty-state">
                <i class="fas fa-building"></i>
                <h3>Nenhum condom√≠nio cadastrado</h3>
                <p>Comece adicionando condom√≠nios para monitorar a cobertura da sua equipe.</p>
                {% if usuario_logado and nivel_usuario != 'convidado' %}
                <button class="btn-primary" onclick="mostrarModal()">
                    <i class="fas fa-plus"></i>
                    Adicionar Primeiro Condom√≠nio
                </button>
                {% else %}
                <button class="btn-primary btn-convidado-disabled" onclick="mostrarModalConvidado()">
                    <i class="fas fa-plus"></i>
                    Adicionar Primeiro Condom√≠nio
                </button>
                {% endif %}
            </div>
            {% endif %}

            <!-- Resumo -->
            {% if condominios %}
            <div class="section-summary">
                <div>
                    <i class="fas fa-chart-bar"></i>
                    <strong>Resumo:</strong>
                    {% set cobertos = condominios|selectattr('status_cobertura', 'equalto', 'completo')|list|length %}
                    {% set parciais = condominios|selectattr('status_cobertura', 'equalto', 'parcial')|list|length %}
                    {% set descobertos = condominios|selectattr('status_cobertura', 'equalto', 'descoberto')|list|length %}
                    <span class="cobertos">{{ cobertos }} cobertos</span> ‚Ä¢
                    <span class="parciais">{{ parciais }} parciais</span> ‚Ä¢
                    <span class="descobertos">{{ descobertos }} descobertos</span>
                </div>
                <div>
                    <i class="fas fa-filter"></i>
                    Mostrando {{ condominios|length }} condom√≠nio{% if condominios|length != 1 %}s{% endif %}
                </div>
            </div>
            {% endif %}
        </section>       

        <!-- Tabela -->
        <div class="table-container">
            {% if condominios %}
            <table class="condominios-table" id="condominiosTable">
                <thead>
                    <tr>
                        <th>Condom√≠nio</th>
                        <th>Status</th>
                        <th>Prioridade</th>
                        <th>ACS Respons√°vel</th>
                        <th>Blocos</th>
                        <th>Cobertura</th>
                        <th>Moradores</th>
                        <th>Sa√∫de</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    {% for cond in condominios %}
                    <tr data-id="{{ cond.id }}"
                        data-status="{{ cond.status_cobertura }}"
                        data-prioridade="{{ cond.prioridade }}"
                        data-acs="{{ 'com_acs' if cond.acs_responsavel else 'sem_acs' }}"
                        data-cobertura="{{ cond.cobertura }}">
                        <td>
                            <strong>{{ cond.nome }}</strong>
                            <div>{{ cond.apartamentos }} aptos</div>
                        </td>
                        <td>
                            <span class="table-badge badge-status-{{ cond.status_cobertura }}">
                                {% if cond.status_cobertura == 'completo' %}
                                <i class="fas fa-check-circle"></i> COBERTO
                                {% elif cond.status_cobertura == 'parcial' %}
                                <i class="fas fa-exclamation-triangle"></i> PARCIAL
                                {% else %}
                                <i class="fas fa-times-circle"></i> DESCOBERTO
                                {% endif %}
                            </span>
                        </td>
                        <td>
                            <span class="table-badge badge-priority-{{ cond.prioridade }}">
                                {{ cond.prioridade|upper }}
                            </span>
                        </td>
                        <td>
                            {% if cond.acs_responsavel %}
                            <div class="acs-nome">{{ cond.acs_responsavel }}</div>
                            <div class="acs-blocos">{{ cond.blocos_ativos }}</div>
                            {% else %}
                            <span class="sem-acs"><i class="fas fa-user-times"></i> Sem ACS</span>
                            {% endif %}
                        </td>
                        <td>
                            <div>
                                <span class="coberto"><i class="fas fa-check"></i> {{ cond.blocos_cobertos }}</span> cobertos
                            </div>
                            <div>
                                <span class="descoberto"><i class="fas fa-times"></i> {{ cond.blocos_descobertos }}</span> descobertos
                            </div>
                        </td>
                        <td>
                            <div class="cobertura-cell">
                                <span>{{ cond.cobertura }}%</span>
                                <div class="mini-progress-table">
                                    <div class="mini-progress-bar-table" style="width: {{ cond.cobertura }}%"></div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="moradores-count">{{ cond.moradores }}</div>
                            <div class="moradores-avg">
                                {{ (cond.moradores / cond.apartamentos)|round(1) }} por apto
                            </div>
                        </td>
                        <td>
                            <div class="saude-indicadores">
                                <div title="Hipertensos">
                                    <div class="hipertensos">{{ cond.hipertensos }}</div>
                                    <i class="fas fa-heartbeat"></i>
                                </div>
                                <div title="Diab√©ticos">
                                    <div class="diabeticos">{{ cond.diabeticos }}</div>
                                    <i class="fas fa-prescription-bottle"></i>
                                </div>
                                <div title="Gestantes">
                                    <div class="gestantes">{{ cond.gestantes }}</div>
                                    <i class="fas fa-female"></i>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="table-actions">
                                <button class="btn-action btn-view" title="Visualizar" data-id="{{ cond.id }}">
                                    <i class="fas fa-eye"></i>
                                </button>
                                {% if usuario_logado and nivel_usuario != 'convidado' %}
                                <button class="btn-action btn-edit" title="Editar" data-id="{{ cond.id }}">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-action btn-delete" title="Excluir" data-id="{{ cond.id }}" data-nome="{{ cond.nome }}">
                                    <i class="fas fa-trash"></i>
                                </button>
                                {% else %}
                                <button class="btn-action disabled" title="Modo visitante">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-action disabled" title="Modo visitante">
                                    <i class="fas fa-trash"></i>
                                </button>
                                {% endif %}
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <div class="empty-state">
                <i class="fas fa-building"></i>
                <h3>Nenhum condom√≠nio cadastrado</h3>
                <p>Esta equipe ainda n√£o possui condom√≠nios cadastrados no sistema.</p>
                <button class="btn-primary" onclick="mostrarModal()">
                    <i class="fas fa-plus"></i> Adicionar Primeiro Condom√≠nio
                </button>
            </div>
            {% endif %}
        </div>

        <!-- Informa√ß√µes de resumo -->
        <div class="page-summary">
            <p>
                <i class="fas fa-info-circle"></i>
                <span class="items-counter">Mostrando {{ condominios|length }} condom√≠nio(s)</span> |
                √öltima atualiza√ß√£o: <span id="dataAtual"></span>
            </p>
        </div>
    </div>

 <!-- Modal para Adicionar Condom√≠nio -->
        <div id="modalCondominio" class="modal" style="display: none;">
            <div class="modal-content" style="max-width: 700px;">
                <div class="modal-header">
                    <h3><i class="fas fa-plus-circle"></i> Cadastrar Novo Condom√≠nio</h3>
                    <span class="close" onclick="fecharModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="formCondominio">
                        <!-- Passo 1: Informa√ß√µes B√°sicas -->
                        <div class="form-step" id="step1">
                            <h4><i class="fas fa-info-circle"></i> Informa√ß√µes B√°sicas</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="nomeCondominio"><i class="fas fa-building"></i> Nome do Condom√≠nio*</label>
                                    <input type="text" id="nomeCondominio" required placeholder="Ex: Condom√≠nio Lucaia">
                                </div>

                                <div class="form-group">
                                    <label for="torres"><i class="fas fa-layer-group"></i> Total de Blocos/Torres*</label>
                                    <input type="number" id="torres" min="1" required placeholder="Ex: 23" onchange="calcularCobertura()">
                                </div>

                                <div class="form-group">
                                    <label for="apartamentos"><i class="fas fa-door-closed"></i> Total de Apartamentos*</label>
                                    <input type="number" id="apartamentos" min="1" required placeholder="Ex: 460">
                                </div>

                                <div class="form-group">
                                    <label for="moradores"><i class="fas fa-users"></i> Total de Moradores*</label>
                                    <input type="number" id="moradores" min="1" required placeholder="Ex: 1610">
                                </div>
                            </div>
                        </div>

                        <!-- Passo 2: Cobertura por ACS -->
                        <div class="form-step" id="step2" style="display: none;">
                            <h4><i class="fas fa-user-nurse"></i> Cobertura por ACS</h4>

                            <div class="cobertura-option">
                                <label class="radio-option">
                                    <input type="radio" name="tem_acs" value="sim" checked onchange="toggleACSInfo(true)">
                                    <div class="radio-content">
                                        <i class="fas fa-user-check"></i>
                                        <div>
                                            <strong>Condom√≠nio com ACS</strong>
                                            <small>Existe ACS trabalhando neste condom√≠nio</small>
                                        </div>
                                    </div>
                                </label>

                                <label class="radio-option">
                                    <input type="radio" name="tem_acs" value="nao" onchange="toggleACSInfo(false)">
                                    <div class="radio-content">
                                        <i class="fas fa-user-times"></i>
                                        <div>
                                            <strong>Condom√≠nio Descoberto</strong>
                                            <small>N√£o h√° ACS trabalhando neste condom√≠nio</small>
                                        </div>
                                    </div>
                                </label>
                            </div>

                            <!-- Informa√ß√µes do ACS (aparece apenas se tem ACS) -->
                            <div id="acsInfo" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="nomeACS"><i class="fas fa-user-md"></i> Nome do ACS*</label>
                                        <input type="text" id="nomeACS" placeholder="Ex: Maria Silva">
                                    </div>

                                    <div class="form-group">
                                        <label for="blocosCobertos"><i class="fas fa-map-marked-alt"></i> Blocos Atendidos*</label>
                                        <input type="text" id="blocosCobertos" placeholder="Ex: 1-13 ou 1,2,3,5-8" onchange="calcularCobertura()">
                                        <small style="color: #666; font-size: 0.85rem;">Informe os blocos que o ACS atende</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="blocosDescobertos"><i class="fas fa-map-marked"></i> Blocos Descobertos</label>
                                        <input type="text" id="blocosDescobertos" placeholder="Ser√° calculado automaticamente" readonly>
                                    </div>

                                    <div class="form-group">
                                        <label><i class="fas fa-chart-pie"></i> Cobertura de Blocos</label>
                                        <div class="cobertura-display">
                                            <div class="cobertura-visual">
                                                <div class="cobertura-bar">
                                                    <div class="coberto" id="cobertoBar" style="width: 0%"></div>
                                                    <div class="descoberto" id="descobertoBar" style="width: 100%"></div>
                                                </div>
                                                <div class="cobertura-numbers">
                                                    <span id="cobertoText">0 blocos cobertos (0%)</span>
                                                    <span id="descobertoText">0 blocos descobertos (0%)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Passo 3: Dados de Sa√∫de -->
                        <div class="form-step" id="step3" style="display: none;">
                            <h4><i class="fas fa-heartbeat"></i> Dados de Sa√∫de</h4>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="hipertensos"><i class="fas fa-heartbeat"></i> Hipertensos</label>
                                    <input type="number" id="hipertensos" min="0" value="0" placeholder="0">
                                </div>

                                <div class="form-group">
                                    <label for="diabeticos"><i class="fas fa-prescription-bottle"></i> Diab√©ticos</label>
                                    <input type="number" id="diabeticos" min="0" value="0" placeholder="0">
                                </div>

                                <div class="form-group">
                                    <label for="gestantes"><i class="fas fa-female"></i> Gestantes</label>
                                    <input type="number" id="gestantes" min="0" value="0" placeholder="0">
                                </div>

                                <div class="form-group">
                                    <label for="prioridade"><i class="fas fa-exclamation-circle"></i> Prioridade</label>
                                    <select id="prioridade" required>
                                        <option value="baixa">Baixa</option>
                                        <option value="media" selected>M√©dia</option>
                                        <option value="alta">Alta</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Navega√ß√£o entre passos -->
                        <div class="form-navigation">
                            <button type="button" class="btn-prev" onclick="prevStep()" style="display: none;">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <button type="button" class="btn-next" onclick="nextStep()">
                                Pr√≥ximo <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>

                        <!-- Bot√µes finais -->
                        <div class="form-actions" id="finalActions" style="display: none;">
                            <button type="button" class="btn-cancelar" onclick="fecharModal()">
                                <i class="fas fa-times"></i> Cancelar
                            </button>
                            <button type="submit" class="btn-salvar">
                                <i class="fas fa-save"></i> Salvar Condom√≠nio
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    <!-- JavaScript (arquivos externos) -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/condominios.js') }}"></script>

    <!-- Script espec√≠fico da p√°gina para configurar bot√µes -->
    <script>
        // Configurar bot√µes ap√≥s o carregamento
        document.addEventListener('DOMContentLoaded', function () {
            console.log('P√°gina de condom√≠nios carregada');

            // Configurar bot√µes de a√ß√£o
            const btnAdd = document.querySelector('.btn-add:not(.btn-convidado-disabled)');
            if (btnAdd) {
                btnAdd.addEventListener('click', function () {
                    mostrarModal();
                });
            }

            // Configurar bot√µes de a√ß√£o na tabela
            document.querySelectorAll('.btn-view').forEach(btn => {
                btn.addEventListener('click', function () {
                    const id = this.getAttribute('data-id');
                    CondominiosPage.verDetalhes(id);
                });
            });

            document.querySelectorAll('.btn-edit:not(.disabled)').forEach(btn => {
                btn.addEventListener('click', function () {
                    const id = this.getAttribute('data-id');
                    CondominiosPage.editarCondominio(id);
                });
            });

            document.querySelectorAll('.btn-delete:not(.disabled)').forEach(btn => {
                btn.addEventListener('click', function () {
                    const id = this.getAttribute('data-id');
                    const nome = this.getAttribute('data-nome');
                    CondominiosPage.confirmarExclusao(id, nome);
                });
            });

            // Configurar data atual
            document.getElementById('dataAtual').textContent = new Date().toLocaleDateString('pt-BR');
        });

        // Fun√ß√£o para mostrar modal - chama a fun√ß√£o do condominios.js
        function mostrarModal() {
            return CondominiosPage.mostrarModal();
        }

        // Fun√ß√£o para convidados
        function mostrarModalConvidado() {
            alert('üîí Modo Visitante\n\nVoc√™ est√° no modo de visualiza√ß√£o apenas. Para adicionar ou editar condom√≠nios, fa√ßa login como usu√°rio cadastrado.\n\nUsu√°rio: admin / Senha: admin123\nou\nUsu√°rio: acs1 / Senha: acs123');
            return false;
        }

        // Fun√ß√£o para fechar modal
        function fecharModal() {
            return CondominiosPage.closeModal();
        }
    </script>
</body>
</html>
